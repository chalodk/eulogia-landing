<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eulogia.cl - Landing Page</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-W5S3G2TL');</script>
    <!-- End Google Tag Manager -->
    <!-- Meta Pixel Code -->
<script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '683292484856086');
    fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=683292484856086&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->
    <meta name="facebook-domain-verification" content="tkqfnkrv8e58lsmhafjvr02ikmpsg2" />
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W5S3G2TL"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <a href="#inicio" class="logo">
                <img src="https://afqnrbwwkseseegfreyr.supabase.co/storage/v1/object/public/eulogia/Logo%20Eulogia.png" alt="Eulogia Logo">
            </a>
            <nav class="nav">
                <ul class="nav-menu" id="navMenu">
                    <li><a href="#inicio" class="nav-link">Inicio</a></li>
                    <li><a href="#servicios" class="nav-link">Servicios</a></li>
                    <li><a href="#contacto" class="nav-link">Contacto</a></li>
                    <li><a href="https://app.eulogia.cl" class="nav-link nav-link-login" target="_blank" rel="noopener noreferrer">Iniciar sesión</a></li>
                </ul>
                <button class="nav-toggle" id="navToggle" aria-label="Toggle menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="inicio">
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <h1 class="slogan">Cumplimiento Laboral Integral</h1>
            <p class="tagline">Somos tu aliado en cumplimiento laboral, legal y gerencial</p>
            <a href="#contacto" class="btn-contacto">Contacto</a>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features" id="servicios">
        <div class="features-container">
            <div class="features-image">
                <img src="https://afqnrbwwkseseegfreyr.supabase.co/storage/v1/object/public/eulogia/landing/4_vert-cal.png" alt="Eulogia">
            </div>
            <div class="features-content">
                <ul class="features-list">
                    <li>
                        <h3>Carga automática de contratos a portal DT</h3>
                        <p>Necesitas cargar muchos contratos para cumplir con la DT? Los hacemos por ti en unos minutos.</p>
                    </li>
                    <li>
                        <h3>Genera todos los anexos para tus trabajadores</h3>
                        <p>No necesitas generar anexos uno por uno, genera anexos de forma masiva.</p>
                    </li>
                    <li>
                        <h3>Cartas de aviso por término de faena o plazo fijo?</h3>
                        <p>No te preocupes por los plazos, te ayudamos en un par de minutos.</p>
                    </li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact" id="contacto">
        <div class="contact-container">
            <h2 class="contact-title">Contáctanos</h2>
            <p class="contact-subtitle">Estamos aquí para ayudarte con tus necesidades de cumplimiento laboral</p>
            
            <div class="contact-content">
                <!-- Contact Form -->
                <div class="contact-form-wrapper">
                    <h3>Envíanos un mensaje</h3>
                    <form class="contact-form" id="contactForm">
                        <div class="form-group">
                            <label for="nombre">Nombre completo</label>
                            <input type="text" id="nombre" name="nombre" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Correo electrónico</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="empresa">Empresa</label>
                            <input type="text" id="empresa" name="empresa">
                        </div>
                        <div class="form-group">
                            <label for="telefono">Teléfono</label>
                            <input type="tel" id="telefono" name="telefono">
                        </div>
                        <div class="form-group">
                            <label for="mensaje">Mensaje</label>
                            <textarea id="mensaje" name="mensaje" rows="5" required></textarea>
                        </div>
                        <button type="submit" class="btn-submit" id="submitBtn">
                            <span class="btn-text">Enviar mensaje</span>
                            <span class="btn-loader" style="display: none;">Enviando...</span>
                        </button>
                        <div class="form-message" id="formMessage" style="display: none;"></div>
                    </form>
                </div>

                <!-- Contact Info -->
                <div class="contact-info-wrapper">
                    <h3>Información de contacto</h3>
                    <div class="contact-info">
                        <div class="contact-item">
                            <h4>Correo electrónico</h4>
                            <a href="mailto:consultas@eulogia.cl">consultas@eulogia.cl</a>
                        </div>
                        
                        <div class="contact-item">
                            <h4>WhatsApp</h4>
                            <a href="https://wa.me/56998261235?text=Hola!%20me%20interesa%20saber%20más%20de%20Eulogia%20y%20como%20puede%20ayudarme%20con%20el%20cumplimiento%20laboral" 
                               target="_blank" 
                               rel="noopener noreferrer" 
                               class="whatsapp-link">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
                                </svg>
                                Chatea con nosotros
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2025 Eulogia.cl - Todos los derechos reservados</p>
        <p>Hecho en Chile con <3 </p>

    </footer>

    <script>
        // Mobile menu toggle
        const navToggle = document.getElementById('navToggle');
        const navMenu = document.getElementById('navMenu');

        navToggle.addEventListener('click', function() {
            navMenu.classList.toggle('active');
            navToggle.classList.toggle('active');
        });

        // Close menu when clicking on a link
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function() {
                navMenu.classList.remove('active');
                navToggle.classList.remove('active');
            });
        });

        // Smooth scroll with modern easing effect
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset;
                    const startPosition = window.pageYOffset;
                    const distance = targetPosition - startPosition;
                    const duration = 1000; // 1 second
                    let start = null;

                    // Easing function for smooth animation (ease-in-out-cubic)
                    function easeInOutCubic(t) {
                        return t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2;
                    }

                    function animation(currentTime) {
                        if (start === null) start = currentTime;
                        const timeElapsed = currentTime - start;
                        const progress = Math.min(timeElapsed / duration, 1);
                        const ease = easeInOutCubic(progress);
                        
                        window.scrollTo(0, startPosition + distance * ease);
                        
                        if (timeElapsed < duration) {
                            requestAnimationFrame(animation);
                        }
                    }

                    requestAnimationFrame(animation);
                }
            });
        });

        // Handle contact form submission
        const contactForm = document.getElementById('contactForm');
        const submitBtn = document.getElementById('submitBtn');
        const btnText = submitBtn.querySelector('.btn-text');
        const btnLoader = submitBtn.querySelector('.btn-loader');
        const formMessage = document.getElementById('formMessage');

        contactForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            // Get form data
            const formData = new FormData(this);
            const data = {
                nombre: formData.get('nombre'),
                email: formData.get('email'),
                empresa: formData.get('empresa') || '',
                telefono: formData.get('telefono') || '',
                mensaje: formData.get('mensaje')
            };

            // Disable submit button and show loading state
            submitBtn.disabled = true;
            btnText.style.display = 'none';
            btnLoader.style.display = 'inline';
            formMessage.style.display = 'none';

            try {
                // Basic Auth credentials
                const username = 'eulogia';
                const password = 'm4rkzv1v3';
                const credentials = btoa(`${username}:${password}`);
                
                // Send data to webhook using POST method with Basic Auth
                const response = await fetch('https://n8n.agroanalytics.cl/webhook/38cbe751-76f5-4cee-803c-5ca1df402638', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json',
                        'Authorization': `Basic ${credentials}`
                    },
                    body: JSON.stringify(data)
                });

                // Log response for debugging
                console.log('Response status:', response.status);
                console.log('Response headers:', response.headers);

                if (response.ok) {
                    // Success
                    formMessage.textContent = '¡Gracias por tu mensaje! Nos pondremos en contacto contigo pronto.';
                    formMessage.className = 'form-message success';
                    formMessage.style.display = 'block';
                    
                    // Reset form
                    this.reset();
                    
                    // Scroll to message
                    formMessage.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                } else {
                    // Get error details
                    const errorText = await response.text();
                    console.error('Error response:', errorText);
                    console.error('Status:', response.status);
                    
                    let errorMessage = 'Hubo un error al enviar tu mensaje. ';
                    if (response.status === 401) {
                        errorMessage += 'Error de autenticación. Por favor, contacta al administrador.';
                    } else if (response.status === 403) {
                        errorMessage += 'Acceso denegado. Por favor, contacta al administrador.';
                    } else {
                        errorMessage += 'Por favor, intenta nuevamente o contáctanos directamente.';
                    }
                    
                    throw new Error(errorMessage);
                }
            } catch (error) {
                // Error
                formMessage.textContent = error.message || 'Hubo un error al enviar tu mensaje. Por favor, intenta nuevamente o contáctanos directamente.';
                formMessage.className = 'form-message error';
                formMessage.style.display = 'block';
                console.error('Error:', error);
            } finally {
                // Re-enable submit button
                submitBtn.disabled = false;
                btnText.style.display = 'inline';
                btnLoader.style.display = 'none';
            }
        });
    </script>
</body>
</html>
